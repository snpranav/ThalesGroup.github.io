"use strict";(self.webpackChunkdocusaurus=self.webpackChunkdocusaurus||[]).push([[7173],{7200:(e,t,r)=>{r.d(t,{Z:()=>p});var n=r(7294),o=r(5697),a=r.n(o),i=r(7373),s=r(9960);const c=e=>{let{href:t}=e;return n.createElement("div",null,n.createElement(s.Z,{href:t},n.createElement("button",{style:{backgroundColor:"#171515"},className:"p-2 my-4 rounded-md border-none cursor-pointer text-white"},"GitHub ",n.createElement(i.RrF,{className:"text-white"}))))},d=e=>{let{href:t}=e;return n.createElement("div",null,n.createElement(s.Z,{href:t},n.createElement("button",{className:"p-2 my-4 rounded-md border-none cursor-pointer"},"View Demo ",n.createElement(i.mGl,null))))},l=e=>{let{href:t,demourl:r}=e;return n.createElement("div",{className:"flex flex-row justify-between"},n.createElement(c,{href:t}),r?n.createElement(d,{href:r}):n.createElement(n.Fragment,null))};l.propTypes={href:a().string.isRequired,demourl:a().string};const p=l},7148:(e,t,r)=>{r.d(t,{Z:()=>c});var n=r(7294),o=r(5697),a=r.n(o),i=r(7200);const s=e=>{let{embedId:t,github:r,demourl:o}=e;return n.createElement(n.Fragment,null,n.createElement("div",{className:"video-responsive"},n.createElement("iframe",{width:"853",height:"480",src:`https://www.youtube.com/embed/${t}`,frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})),n.createElement(i.Z,{href:r,demourl:o}))};s.propTypes={embedId:a().string.isRequired};const c=s},7493:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>d,contentTitle:()=>s,default:()=>u,frontMatter:()=>i,metadata:()=>c,toc:()=>l});var n=r(7462),o=(r(7294),r(3905)),a=r(7148);const i={sidebar_position:1},s="Data Encryption in-Transit in a Docker Deployment",c={unversionedId:"connectors/demos/data-encryption-in-transit-docker",id:"connectors/demos/data-encryption-in-transit-docker",title:"Data Encryption in-Transit in a Docker Deployment",description:"This demo shows how you can use a tool like CipherTrust Data Protection Gateway and do field level data encryption with no change to your application's code.",source:"@site/docs/connectors/demos/data-encryption-in-transit-docker.mdx",sourceDirName:"connectors/demos",slug:"/connectors/demos/data-encryption-in-transit-docker",permalink:"/ciphertrust/docs/connectors/demos/data-encryption-in-transit-docker",draft:!1,editUrl:"https://github.com/snpranav/ThalesGroup.github.io/tree/main/ciphertrust/docs/connectors/demos/data-encryption-in-transit-docker.mdx",tags:[],version:"current",sidebarPosition:1,frontMatter:{sidebar_position:1},sidebar:"tutorialSidebar",previous:{title:"Demos",permalink:"/ciphertrust/docs/category/demos-1"}},d={},l=[{value:"Pre-requisites",id:"pre-requisites",level:2},{value:"How does it work?",id:"how-does-it-work",level:2},{value:"Step 1 - Add side-car container",id:"step-1---add-side-car-container",level:3},{value:"Step 2 - Configure DPG policies",id:"step-2---configure-dpg-policies",level:3},{value:"Step 3 - Sit Back and Relax",id:"step-3---sit-back-and-relax",level:3}],p={toc:l};function u(e){let{components:t,...i}=e;return(0,o.kt)("wrapper",(0,n.Z)({},p,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h1",{id:"data-encryption-in-transit-in-a-docker-deployment"},"Data Encryption in-Transit in a Docker Deployment"),(0,o.kt)("p",null,"This demo shows how you can use a tool like CipherTrust Data Protection Gateway and do field level data encryption with ",(0,o.kt)("strong",{parentName:"p"},"no change")," to your application's code."),(0,o.kt)(a.Z,{embedId:"EJun5McPRGY",github:"https://github.com/snpranav/data-encryption-in-transit-demo",demourl:"https://main-yak.sneakpeak.dev/",mdxType:"YoutubeEmbed"}),(0,o.kt)("h2",{id:"pre-requisites"},"Pre-requisites"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("a",{parentName:"li",href:"../../category/deploy-ciphertrust-platform"},"Deployed Ciphertrust Manager instance"))),(0,o.kt)("h2",{id:"how-does-it-work"},"How does it work?"),(0,o.kt)("h3",{id:"step-1---add-side-car-container"},"Step 1 - Add side-car container"),(0,o.kt)("p",null,"You need to deploy a sidecar container or an agent that proxies all your requests to your container."),(0,o.kt)("p",null,"It looks something like this if you use ",(0,o.kt)("a",{parentName:"p",href:"https://docs.docker.com/compose/"},"docker-compose"),".\nNote - You can use DPG and CipherTrust manager with any other Kubernetes or Helm deployment."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-yaml",metastring:'title="docker-compose.yml"',title:'"docker-compose.yml"'},"version: '3.1'\n\nservices:\n  ciphertrust:\n    image: thalesgroup/ciphertrust-data-protection-gateway:latest\n    container_name: ciphertrust\n    environment:\n      - REG_TOKEN=<YOUR_DPG_REG_TOKEN>\n      - DESTINATION_URL=http://nextjs:3000\n      - DPG_PORT=9005\n      - TLS_ENABLED=false\n      - KMS=<YOUR_CM_IP>\n    ports:\n      - 80:9005\n")),(0,o.kt)("h3",{id:"step-2---configure-dpg-policies"},"Step 2 - Configure DPG policies"),(0,o.kt)("p",null,"Setup ",(0,o.kt)("a",{parentName:"p",href:"https://thalesdocs.com/ctp/cm/latest/admin/adp_ag/adp-prtcn-policy/create-prtcn-policy/index.html"},"DPG policies"),' in CipherTrust Manager to encrypt the fields that are encrypted for your POST requests and add a decrypt policy for your HTTP "GET" requests.'),(0,o.kt)("p",null,"This ensures that the proxy takes care of the encryption and decryption and the database finally ONLY gets encrypted data."),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"dpg policy example",src:r(1204).Z,width:"1217",height:"901"})),(0,o.kt)("h3",{id:"step-3---sit-back-and-relax"},"Step 3 - Sit Back and Relax"),(0,o.kt)("p",null,"Let CipherTrust Manager do all the magic for you while you focus on building great applications."))}u.isMDXComponent=!0},1204:(e,t,r)=>{r.d(t,{Z:()=>n});const n=r.p+"assets/images/dpg-policy-4d61afdf9e53224d150ad15cac905b5d.png"}}]);